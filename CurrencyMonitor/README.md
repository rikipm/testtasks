Тестовый проект для компании BestStocks.ru.

## ТЗ

Необходимо реализовать сервис с следующим функционалом с использованием фреймворка Yii2.

**В базе данных должна быть таблица currency c колонками:**

id — первичный ключ

name — название валюты

rate — курс валюты к рублю

Должна быть консольная команда для обновления данных в таблице currency. Данные по курсам валют можно взять здесь: http://www.cbr.ru/scripts/XML_daily.asp

**Реализовать 2 REST API метода:**

GET /currencies — должен возвращать список курсов валют с возможностью пагинации

GET /currency/<id> — должен возвращать курс валюты для переданного id

API должно быть закрыто bearer-авторизацией.


## Деплой с докером:

1.Загрузите зависимости
```
composer update
```

2.Переименуйте `sample.env` в `.env`

3.В файле `.env` измените настройки на свои собственные

4.Запустите контейнер и миграции внутри него
```
docker-compose up -d
docker-compose exec php-fpm php ./yii migrate --interactive=0
```

5.Обновить курс валют можно командой 
```
docker-compose exec php-fpm ./yii currency/refresh
```

## Деплой без докера:
1.Установите свой веб-сервер и базу данных

2.Загрузите зависимости
```
composer update
```

2.Переименуйте `sample.env` в `.env`

3.В файле `.env` измените настройки на свои собственные

4.Примените миграции
```
yii migrate
```

8.Обновить курс валют можно командой
```
yii currency/refresh
```
## Авторизация
В каждом запросе необходимо передавать Bearer токен для авторизации. Посмотреть/изменить список доступных пользователей
и их токенов можно в файле `models/User.php`
## Методы
`/currencies` - получить список валют. Возвращает только 10 записей, можно указать номер страницы параметром page.

Например `/currencies?page=5`

`/currency/<id>` - возвращает курс валюты к рублю.
